<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
      integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="stylesheet" href="style.css" />
    <script src="https://cdn.tailwindcss.com"></script>

    <title>Document</title>
  </head>
  <body>
    <!-- navbar imported from component======== -->
    <header> 
      <%- include('./views/component/navbar.ejs') %>
    </header>

    <section class="flex">
      
      <!-- sidbare  imported from component and pass current page to sidebar ============================ -->
        <%- include("./views/component/sidebar.ejs" ,{currentPage:"index"})%>
      

      <!-- content -->

      <section
        class="container bg-slate-50 mx-auto p-7 h-auto flex flex-col gap-6 rounded-tl-3xl"
      >
        <!-- report -->
        <section class="w-full h-16 border rounded">


          
        </section>

        <!-- filter -->
        <section class="filteringData w-full h-16 border rounded flex gap-6">
          <button class="platform-button w-40 h-12 text-2xl rounded-xl text-white bg-violet-500 hover:bg-violet-600" data-platform="tiktok">tiktok</button>
          <button class=" platform-button w-40 h-12 text-2xl rounded-xl text-white bg-violet-500 hover:bg-violet-600" data-platform="twitter">twitter</button>
          <button class="platform-button w-40 h-12 text-2xl rounded-xl text-white bg-violet-500 hover:bg-violet-600" data-platform="facebook">facebook</button>
          <button class="platform-button w-40 h-12 text-2xl rounded-xl text-white bg-violet-500 hover:bg-violet-600" data-platform="pinterest">pinterest</button>
          <button class="platform-button w-40 h-12 text-2xl rounded-xl text-white bg-violet-500 hover:bg-violet-600" data-platform="linkdin">linkedin</button>
      
        </section>

        <!-- display my work -->
        <section class="w-full mt-4 rounded flex flex-wrap gap-10">
          <!-- card  -->

          <table
          style="width: 99%"
          class="text-center mx-auto table mt-5 table-striped border"
        >
          <thead class="border">
            <tr>
              <th scope="col">#</th>
              <th scope="col">platform</th>
              <th scope="col">catigory</th>
              <th scope="col">Country</th>
              <th scope="col">create at</th>
              
              <th scope="col">Action</th>
            </tr>
          </thead>



          <!--========================= display accounts infos without data============================= -->

            <% accountsData.forEach((item,i) => { %>
             
              <tbody>
            
        
           
                <tr>
                  <th scope="row"><%= i+=1 %></th>
                  <td ><i class="fa-brands fa-<%= item.platform %> text-xl"></i> 
                    <span class="text-base"><%= item.platform  %></span>  </td>
                  <td ><%= item.catigory %></td>
                  <td ><%= item.country %></td>
                  <td >1 month ago</td>
                  <td class="flex justify-center items-center gap-2 border ">
                    <a href="/itemdetails/<%=item._id %>" class="text-2xl text-blue-500" ><i class="fa-regular fa-eye "></i></a>
          
                    <a href="/edit/<%= item._id %>" class="text-2xl text-green-500" >
                      <i class="fa-regular fa-pen-to-square"></i>
                    </a>
                  <form action="/delete/<%= item._id %>?_method=DELETE" method="post">
                    <button type="submit"  class="text-2xl text-red-400">
                      <i class="fa-regular fa-trash-can"></i>
                  </button>
                  </form>
                  </td>
                </tr>
             
          
          
            </tbody>
  


            <% }) %>


         



         



        </table>


        <!--  -->

        <div class="addAccs-link  text-center  w-full">
          <a href="/add.html" class="flex items-center justify-center mx-auto w-44 h-12 p-2 bg-violet-600 text-white rounded capitalize text-xl">add accs <i class="fa-solid fa-plus ml-2"></i></a>
        </div>
        </section>
      </section>
    </section>



<!-- footer importet from component======================================================= -->
    <%- include ('./views/component/footer.ejs') %> 
    



    <script>
      document.querySelectorAll('.platform-button').forEach(button => {
          button.addEventListener('click', () => {
              const platform = button.getAttribute('data-platform');
              console.log(platform)
              window.location.href = `/products?platform=${platform}`;
          });
      });
  </script>
  </body>
</html>
